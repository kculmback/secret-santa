function isValidElement(t){return t.name&&t.value}function handleFormSubmit(t){function e(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),i-=1,e=t[i],t[i]=t[n],t[n]=e;return t}t.preventDefault();var n={};$(form).find("input").each(function(){"name"===this.name.slice(0,4)&&(n[this.value]=[$(this).val(),$(this).next().next().next().next().val()])});var i=[];for(x in n)i.push(x);i=e(i);for(var a=0;a<i.length;a++)a===i.length-1?n[i[a]].push(n[i[0]][0]):n[i[a]].push(n[i[a+1]][0]);for(y in n)emailjs.send("default_service","secret_santa",{email:n[y][1],giftie:n[y][2]})}var template=$("#sections .section:first").clone(),sectionsCount=0;$("body").on("click",".addsection",function(){sectionsCount++;template.clone().find(":input").each(function(){var t=this.id.slice(0,4)+sectionsCount;$(this).prev().attr("for",t),this.id=t,$(this).attr("name",t)}).end().appendTo("#sections");return!1}),$("#sections").on("click",".remove",function(){return $(this).parent().fadeOut(300,function(){return $(this).parent().parent().empty(),!1}),!1});var form=document.getElementsByClassName("secretSantaForm")[0];form.addEventListener("submit",handleFormSubmit);